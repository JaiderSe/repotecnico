<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión - TutorUD</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <style>
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .login-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .login-card {
            width: 100%;
            max-width: 450px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        .login-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 0.375rem 0.375rem 0 0;
        }
        .login-body {
            padding: 30px;
            background: white;
        }
        .form-label {
            font-weight: 500;
            color: #495057;
        }
        .btn-login {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            padding: 12px;
            font-weight: 600;
            transition: transform 0.2s;
        }
        .btn-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        .register-link {
            text-align: center;
            margin-top: 20px;
            color: #6c757d;
        }
        .register-link a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }
        .register-link a:hover {
            text-decoration: underline;
        }
        .error-message {
            display: none;
            margin-top: 15px;
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">TutorUD</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="login.html">Iniciar sesión</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Quienes somos</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="login-container">
        <div class="login-card">
            <div class="login-header">
                <h2 class="mb-0">Iniciar Sesión - TutorUD</h2>
                <p class="mb-0 mt-2">Bienvenido de vuelta</p>
            </div>
            <div class="login-body">
                <form id="loginForm">
                    <div class="mb-3">
                        <label for="username" class="form-label">Usuario</label>
                        <input type="text" class="form-control" id="username" placeholder="Ingrese su usuario" required>
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">Contraseña</label>
                        <input type="password" class="form-control" id="password" placeholder="Ingrese su contraseña" required>
                    </div>
                    <div class="mb-3">
                        <label for="role" class="form-label">Rol</label>
                        <select class="form-select" id="role" required>
                            <option value="">Seleccione su rol</option>
                            <option value="docente">Docente</option>
                            <option value="estudiante">Estudiante</option>
                        </select>
                    </div>
                    <div class="alert alert-danger error-message" id="errorMessage" role="alert">
                        Usuario, contraseña o rol incorrectos
                    </div>
                    <button type="submit" class="btn btn-primary btn-login w-100">Iniciar Sesión</button>
                </form>
                <div class="register-link">
                    <p>¿No tienes cuenta? <a href="#">Regístrate aquí</a></p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    
    <script> //funcionalidad con JS
        // Initialize sample users in localStorage on first load
        function initializeUsers() {
            if (!localStorage.getItem('users')) {
                const users = [
                    {
                        id: 'teacher-1',
                        username: 'maria.gonzalez',
                        password: 'docente123',
                        role: 'docente',
                        name: 'Dr. María González'
                    },
                    {
                        id: 'teacher-2',
                        username: 'juan.perez',
                        password: 'docente123',
                        role: 'docente',
                        name: 'Prof. Juan Pérez'
                    },
                    {
                        id: 'student-1',
                        username: 'carlos.rodriguez',
                        password: 'estudiante123',
                        role: 'estudiante',
                        name: 'Carlos Rodríguez'
                    },
                    {
                        id: 'student-2',
                        username: 'ana.martinez',
                        password: 'estudiante123',
                        role: 'estudiante',
                        name: 'Ana Martínez'
                    }
                ];
                localStorage.setItem('users', JSON.stringify(users));
            }
        }

        // Login validation function
        function validateLogin(username, password, role) {
            const users = JSON.parse(localStorage.getItem('users'));
            const user = users.find(u => 
                u.username === username && 
                u.password === password && 
                u.role === role
            );
            return user;
        }

        // Handle form submission
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const role = document.getElementById('role').value;
            const errorMessage = document.getElementById('errorMessage');
            
            // Hide error message
            errorMessage.style.display = 'none';
            
            // Validate login
            const user = validateLogin(username, password, role);
            
            if (user) {
                // Store current user session
                localStorage.setItem('currentUser', JSON.stringify(user));
                
                // Redirect to datos.html
                window.location.href = 'datos.html';
            } else {
                // Show error message
                errorMessage.style.display = 'block';
            }
        });

        // Initialize users on page load
        initializeUsers();
    </script>

    
    <script src="https://cdn.botpress.cloud/webchat/v3.5/inject.js"></script>
    <script src="https://files.bpcontent.cloud/2025/12/09/22/20251209221144-31NP2DKE.js" defer></script>
    

</body>
</html>
